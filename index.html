
<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eripari-Enni â€” glitch mode</title>

<style>
body {
  background:black;
  color:#00ff9e;
  font-family:"Courier New", monospace;
  padding:20px;
  overflow:hidden;
}
.hidden { display:none; }

/* CRT flicker */
.crt { animation:flicker .2s infinite; text-shadow:0 0 2px #00ff9e; }
@keyframes flicker { 0%{opacity:.97;} 50%{opacity:1;} 100%{opacity:.95;} }

/* Scanlines */
body:before {
  content:"";
  position:fixed; inset:0;
  background:repeating-linear-gradient(transparent 0 2px, rgba(0,255,158,0.08) 3px);
  pointer-events:none;
}

.wrapper { max-width:650px; margin:15vh auto; text-align:center; }

button {
  background:black; border:1px solid #00ff9e; color:#00ff9e;
  padding:14px 26px; font-size:1.2rem; cursor:pointer;
  text-transform:uppercase; letter-spacing:2px; border-radius:4px;
}
button:hover { background:#00ff9e; color:black; }

.cursor {
  display:inline-block; width:10px; background:#00ff9e;
  animation:blink .7s infinite;
}
@keyframes blink { 50%{background:transparent;} }
</style>
</head>

<body class="crt">

<div class="wrapper">
  <div id="startScreen">
    <button id="startBtn">Aloita / Start</button>
  </div>

  <div id="langScreen" class="hidden">
    <p>Valitse kieli / Choose language:</p>
    <button onclick="setLang('fi')">Suomi</button>
    <button onclick="setLang('en')">English</button>
  </div>

  <pre id="output" class="hidden"></pre><span class="cursor hidden" id="cur"></span>
</div>

<audio id="tick" src="tick.wav" preload="auto"></audio>

<script>
const texts = {
  en: {
    intro: [
      "Enni v1.0 initializing...",
      "Mode: Eripari-Enni",
      "Spontaneity module: ENABLED",
      "Symmetry rules: OVERRIDDEN",
      "âš ï¸ Unexpected behavior possible",
      "Thank you for supporting glitch-mode ðŸ–¤"
    ],
    main: `
profile: Enni v1.0
mode: Eripari-Enni
status: experimental

DEFAULT STATE
  symmetry: strict
  logic: high
  chaos: minimal

TONIGHT STATE
  symmetry: beautifully broken
  spontaneity: beta_mode ðŸ’¥
  logic: relaxed
  chaos: slightly less low
  patch: playful_unexpectedness

note: intentional system anomaly active
warning: do not reboot â€” vibes in progress âœ¨
`
  },
  fi: {
    intro: [
      "Enni v1.0 kÃ¤ynnistyy...",
      "Tila: Eripari-Enni",
      "Spontaanisuus: AKTIVOITU",
      "SymmetriasÃ¤Ã¤nnÃ¶t: OHITETTU",
      "âš ï¸ Odottamaton kÃ¤ytÃ¶s mahdollista",
      "Kiitos kun kestÃ¤t pÃ¤ivityksen ðŸ–¤"
    ],
    main: `
profiili: Enni v1.0
tila: Eripari-Enni
status: kokeellinen

OLETUSTILA
  symmetria: tiukka
  logiikka: vahva
  kaaos: minimaalinen

TÃ„MÃ„ ILTA
  symmetria: ihanasti rikki
  spontaanius: beta-tila ðŸ’¥
  logiikka: rennompi
  kaaos: aavistuksen suurempi
  lisÃ¤osa: leikkisÃ¤ arvaamattomuus

huom: jÃ¤rjestelmÃ¤virhe tarkoituksella pÃ¤Ã¤llÃ¤
varoitus: Ã¤lÃ¤ kÃ¤ynnistÃ¤ uudelleen â€” fiilis kesken âœ¨
`
  }
};

let lang = null;
const output = document.getElementById("output");
const cursor = document.getElementById("cur");
const tick = document.getElementById("tick");

document.getElementById("startBtn").onclick = () => {
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("langScreen").classList.remove("hidden");
};

function setLang(l) {
  lang = l;
  document.getElementById("langScreen").classList.add("hidden");
  output.classList.remove("hidden");
  cursor.classList.remove("hidden");
  printIntro(0);
}

function printIntro(i) {
  const line = texts[lang].intro[i];
  if (!line) return typeWriter(0, texts[lang].main);
  output.innerHTML += line + "<br>";
  tick.currentTime = 0; tick.play();
  setTimeout(() => printIntro(i+1), 1200);
}

function typeWriter(i, text) {
  if (i >= text.length) return;
  const char = text.charAt(i);
  output.textContent += char;
  if (char === "\n") { tick.currentTime=0; tick.play(); }
  setTimeout(() => typeWriter(i+1, text), 90 + Math.random()*200);
}
</script>

</body>
</html>
